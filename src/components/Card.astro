---
import BigButton from './BigButton.astro';
import type { HTMLAttributes } from 'astro/types';

interface Props {
  imageSrc: string;
  imageAlt: string;
  buttonLabel: string;
  buttonHref?: string;
  buttonOnclick?: HTMLAttributes<'button'>['onclick'];
  buttonColor?: string;
  textColor?: string;
}

const {
  imageSrc,
  imageAlt,
  buttonLabel,
  buttonHref,
  buttonOnclick,
  buttonColor = "red",
  textColor = "white"
} = Astro.props as Props;
---

<div class="card-box">
  <div class="image-wrapper">
    <img
      src={imageSrc}
      alt={imageAlt}
      class="card-image"
      loading="lazy"
    >
  </div>
  <BigButton
    label={buttonLabel}
    href={buttonHref}
    onclick={buttonOnclick}
    color={buttonColor}
    textColor={textColor}
  />
</div>

<style scoped>
.card-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1rem;
  border-radius: 0.75rem;
  background-color: var(--persona-card);
  box-shadow: var(--box-shadow-dark);
  transition: transform 300ms ease-in-out;
}

.card-box:hover {
  transform: scale(1.02);
}

.image-wrapper {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-color: #374151;
  border-radius: 0.5rem;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.card-image {
  border-radius: 0.5rem;
  object-fit: cover;
  width: 100%;
  height: 100%;
}

</style>
